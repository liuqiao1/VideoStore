Chapter 1
1. 负责计算的statement函数过长，做了本该让别的类干的事；遍历每个rental, 根据类型+天数计算totalAccount和积分；
2. 如果需要增加一种输出结果的形式，要复制粘贴改些地方，代码冗余；
3. 如果计算的规则发生变化，则要同时改掉所有用到这些规则的地方；
4. 如果要增减type,又要改许多个涉及type的地方。

整体来说，耦合性太强，需要进行拆分。
- 函数拆分
1. 找逻辑泥团：可以单独拿出来的一块逻辑
2. 找泥团中用到的变量，依赖于外部的变量，是否修改了他们，来确定入参，返回值;
VS code 选中需要提取的代码，右键，refactor, exact method...可以快速达到目标；

- 函数移动
1. 函数与当前它所在的类交流多吗？联系紧密吗？如果不是，它正确的地方应该是哪里？
2. 在那些类里面调用了？

- 使用查询代替临时变量
1. 使用const来测验某个变量是否只被赋值一次
2. =后边内容提到一个独立的查询函数
3. 使用查询函数调用换掉临时变量引用

- node 对于es6语法的支持 node.green
- es6 class setter&getter

Chapter 6 重新组织函数
1. 过长得函数带来什么问题？
- 难理解
- 难修改
- 我自己也写过很长很长的函数，原因是这个函数干了一件相对较大得事情，我觉得可以做成一个函数；但是这个大事情又分了很多小事，这些小事可能时独立的，也有可能是必须依赖上下文的。我往往会加一些注释说明接下来的这段代码是干一件什么事儿。这确实印证了书中关于分解函数的原则：
> 每当感觉需要注释来说明点什么的时候，我们就把需要说明的东西写进一个独立函数中，并以其用途命名。

取个好名字也是个技术活，好的名字可以让阅读程序的人产生正确的联想，猜测出代码意图而不用关系函数细节。

- 找长函数（不仅仅是长，更是变量多，职责多且混乱）
- 看这个函数干了些什么事儿，目的是什么
- 去掉所有可以去掉的临时变量，比如用查询代替，降低临时变量数量；直接用表达式代替等，如果某个临时变量被多次赋值使用，需要使用Split Tempporary Variable进行拆分，遇到更复杂的，使用Replace Method With Method Object。
- 抽取可以独立出来的代码段
- 找代码段里的变量，包括两种：外部的，内部的
- 对于内部的，声明为小函数的临时变量，如果外部需要使用结果则返回
- 对于外部的，仅仅只是读取了，当作参数传入即可，不要修改参数，新开一个变量拷贝

- 找过度提炼，使用本体替换调用，删除多余函数
- 找过于复杂的表达式，拆到变量里或者提到新的小函数里，一步一步走
- 看这个函数的实现方式是否不合理，有没有一种更加简洁合理的实现方式，如果有，直接按照更好的算法重写

